export const token =
  'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiI2YmI1MDJjMy1jNDE2LTQ0ZjctOTdjYi03MDViMmIxYTUwYmEiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMzAxMDkxZjAtZTI0Zi00M2ZhLWJkODctNTkzNTBjYzNmYmI2L3YyLjAiLCJpYXQiOjE2MTYyNjk2NjQsIm5iZiI6MTYxNjI2OTY2NCwiZXhwIjoxNjE2MjczNTY0LCJhaW8iOiJBVFFBeS84VEFBQUFobXhwbG5IMVUwbWRrK3hTcnhKUnJWazdJdUlxNzRaVXdDRDhLaWNCVG9WQS8zRHUyaWtKbk8wZEdwRGdVeGNQIiwiYXpwIjoiYzA5MDdjNmEtM2I4Zi00ZWIzLTkzNDUtNWExYTFiNWY2ZWE4IiwiYXpwYWNyIjoiMCIsIm5hbWUiOiLDmHl2aW5kIFRpbWlhbiBEIEh1c3ZlZyIsIm9pZCI6IjJhZTU0Zjc3LTgwYjUtNDNiZS04Njg3LTFiNGE5YWNjYzc4YiIsInByZWZlcnJlZF91c2VybmFtZSI6Im95dmluZC5odXN2ZWdAa3VuZGVib3NzLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMC5BWG9BOEpFUU1FX2kta085aDFrMURNUDd0bXA4a01DUE83Tk9rMFZhR2h0ZmJxaDZBSVEuIiwic2NwIjoiYWNjZXNzX2FzX3VzZXIiLCJzdWIiOiJCc055MnBLcHRLYnp3S1FWblBmVnZ2SV80TkhRdXVPekRHVXdweGZYRkRnIiwidGlkIjoiMzAxMDkxZjAtZTI0Zi00M2ZhLWJkODctNTkzNTBjYzNmYmI2IiwidXRpIjoiYVVHUzNiRHB3a2VJai1UaFJMUTlBQSIsInZlciI6IjIuMCJ9.fa1UWxzwQ92LRs2oErIkyLPvX6unD5K415ash86Lzkt3RBAeLpFBGBM_V7OtAt-3a_DYx0qVu5DOOh63T_IPNYm51fX-Vk1f7OD8tZggcoBhpS2qKt7hhv51kwmA5Z10RTAVCSqfLIHhykbCQEGnvbrG8K6tu-llsZn7pudoVgEeSXviidCThzlvsXOm-Q0UJ3ohD1G8vnYtmnXOOafiTqxfYH0eX7DJWZ3Ek7ger2B-NfkHzYXUrflxBcgVniuopVZHSsNhvhhxpX-nzgYkyEfwuYVotghRESHuBYgBuubzMr7a_TPtpQeYQPyqnvpBAKACx3k16r-hVgzTv3SVrw';
export const invalidToken =
  'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiI2YmI1MDJjMy1jNDE2LTQ0ZjctOTdjYi03MDViMmIxYTUwYmEiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMzAxMDkxZjAtZTI0Zi00M2ZhLWJkODctNTkzNTBjYzNmYmI2L3YyLjAiLCJpYXQiOjE2MTU5ODQ4ODAsIm5iZiI6MTYxNTk4NDg4MCwiZXhwIjoxNjE1OTg4NzgwLCJhaW8iOiJBVFFBeS84VEFBQUF4bEcyUVljazJZaHlZQmpqWVBCZlhuQzVXdnZTMXpQcE5GdmtFN1AzSjEwOWFZUHNkeDJubURxTVBCcmhpQXM5IiwiYXpwIjoiYzA5MDdjNmEtM2I4Zi00ZWIzLTkzNDUtNWExYTFiNWY2ZWE4IiwiYXpwYWNyIjoiMCIsIm5hbWUiOiLDmHl2aW5kIFRpbWlhbiBEIEh1c3ZlZyIsIm9pZCI6IjJhZTU0Zjc3LTgwYjUtNDNiZS04Njg3LTFiNGE5YWNjYzc4YiIsInByZWZlcnJlZF91c2VybmFtZSI6Im95dmluZC5odXN2ZWdAa3VuZGVib3NzLm9ubWljcm9zb2Z0LmNvbSIsInJoIjoiMC5BQUFBOEpFUU1FX2kta085aDFrMURNUDd0bXA4a01DUE83Tk9rMFZhR2h0ZmJxaDZBSVEuIiwic2NwIjoiYWNjZXNzX2FzX3VzZXIiLCJzdWIiOiJCc055MnBLcHRLYnp3S1FWblBmVnZ2SV80TkhRdXVPekRHVXdweGZYRkRnIiwidGlkIjoiMzAxMDkxZjAtZTI0Zi00M2ZhLWJkODctNTkzNTBjYzNmYmI2IiwidXRpIjoiQzRGSGVjUzlmRTI5MjVoOTI1aWZBQSIsInZlciI6IjIuMCJ9.AbDIWnseC7v9UkZ_1CSBkZG6q24Om18euNYY72orXOtQkF48v3Myuq2js5VYJHsE8AqKa8GGD0D6HdQwJ2wSs7CcRcN2s4c-PZ-XEC8dNR_wHwBzdMB8eZF66UWBznSBCOfMuIzYk0DToR6eGyJ48Io6h9fHw1_TI0cQnh1UD_iD2HDgVJO-WMEQuW-3hEBVZWKcfkeL4emBukleGreN0LarGTx_SjRJBfIfeeperHO2TatlUKv6tUxKUvAATwvwCQS_FwJ4PUWQ3xzR3BrxJQUTbIE921Cdv1EwCj3ki0KxKWdYIGfU3tCI--IhC-rmx9IFtRj6DLGHOzemFRRO5w';
export const readerToken =
  'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiI2YmI1MDJjMy1jNDE2LTQ0ZjctOTdjYi03MDViMmIxYTUwYmEiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vMzAxMDkxZjAtZTI0Zi00M2ZhLWJkODctNTkzNTBjYzNmYmI2L3YyLjAiLCJpYXQiOjE2MTYxNTY0MzYsIm5iZiI6MTYxNjE1NjQzNiwiZXhwIjoxNjE2MTYwMzM2LCJhaW8iOiJBV1FBbS84VEFBQUFkemVnRkk1b3BBdXpBQnFWc0VmZUNZdGQxZ1BYTUc3dnYvb0djVHVuZktVaG1FaVFteWh0RE5kQ2xXcEI5YWN3cCsrNEQwczVNdUNmNmg0QnFWOVJmV004VW11U2ZPUzhaemRUcmpQcXc2ZjBlYk1HVkxoeExqUkhRWVZPK0dVViIsImF6cCI6ImMwOTA3YzZhLTNiOGYtNGViMy05MzQ1LTVhMWExYjVmNmVhOCIsImF6cGFjciI6IjAiLCJpZHAiOiJsaXZlLmNvbSIsIm5hbWUiOiJUaW1pYW4gSHVzdmVnIiwib2lkIjoiY2JkNjkwODgtZGQ1My00NGEyLTkzOGMtNzVlMDAzNjkzMGQ3IiwicHJlZmVycmVkX3VzZXJuYW1lIjoidGltaWFuMzExMkBvdXRsb29rLmNvbSIsInJoIjoiMC5BWG9BOEpFUU1FX2kta085aDFrMURNUDd0bXA4a01DUE83Tk9rMFZhR2h0ZmJxaDZBRGsuIiwic2NwIjoiYWNjZXNzX2FzX3VzZXIiLCJzdWIiOiJ5M0NxSy10WmNvQldtUjI5ZVVyRldpZVlYZDZ2dlFWTUNsaFdZS3cxbTFvIiwidGlkIjoiMzAxMDkxZjAtZTI0Zi00M2ZhLWJkODctNTkzNTBjYzNmYmI2IiwidXRpIjoiZUpCN29FZW91a1cwVVVnVG9BUVpBQSIsInZlciI6IjIuMCJ9.BNL8uLLydtu_UXaFWLSR7krdFX6abUjN87I0tbpbgmWtiZn407c7_0U6f8hoHhqGBZj3Apve5Q2eTVzs8itA_a3XyiRECXr2a1cvugBUFk-p5Y_DqGCqjfL63QzYNPzakJlUrq9PvE9-yzSXTw6UebGoupzIRp2F0gM-Hcooq9clQ9_OM-LwNEdDq_4paRwrXNETrwSWoEHXNjG9J5QXdEt6UMiBVB-H8CJmEfCV1FaEKWhO8wC14zj6XZX-X_oAXhp3f0P84UJ-f_NncJvyiUE3UghmbNR_KqW3qcNuWn-F5Pw8MRjTxpuNsaFhB_DzyMajfaqstZMrfbT0r8llEg';
export function prepareContext() {
  let context = {
    res: { status: null, body: null },
    log: jest.fn(),
    done: null,
  };

  context.done = () => {
    context.done = true;
  };
  return context;
}

export async function timeout(context) {
  let i = 0;
  for (; i < 100 && context.done !== true; ++i) {
    await new Promise((r) => setTimeout(r, 100));
  }
  //console.log('Time: ' + --i * 100 + 'ms');
}
export function expectStuff(context, statusCode: number, data: string, body = null) {
  expect(context.res.status).toEqual(statusCode);
  if (body != null) {
    expect(context.res.body).toEqual(data);
  }
  expect(context.done).toEqual(true);
}
